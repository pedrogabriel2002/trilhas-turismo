<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
      rel="preload"
    />
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
      rel="preload"
    ></script>
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <title>Pontos Turísticos</title>
  </head>
  <body>
    <div class="navbar">
      <ul>
        <li>
          <a class="active" href="/"><img src="plane.png" />Destinos</a>
        </li>
        <li>
          <a href="#contact"><img src="phone.png" />Contato</a>
        </li>
      </ul>
    </div>

    <div class="big-text">
      <h1>Aonde você quer ir?</h1>
      <form method="get" action="/pesquisar">
        <input
          name="nome"
          type="text"
          placeholder='Pesquise "Lençois Maranhenses"'
        />
        <button type="submit"><i class="bx bx-search-alt-2 bx-sm"></i></button>
      </form>
    </div>

    <div class="disclaimer">
      <h2>Milhares de Pontos Turísticos só aqui...</h2>
    </div>
    <div class="mainbox">
      <% if (destinos) { %> <%destinos.forEach(destino => {%>
      <div class="destinos-atrativos">
        <div class="destino-turismo">
          <div>
            <h3>Local: <%=destino.nome%></h3>
            <hr />
            <p><%=destino.descricao%></p>
          </div>
          <div>
            <h3>Principais Atrativos:</h3>
            <hr />
            <p><%=destino.atrativos%></p>
          </div>
        </div>
        <div class="destino-mapa">
          <img src="<%=destino.imagem%>" />
          <div class="map" id="<%=destino._id%>"></div>
          <script>
              function generateMap(_id, coordx, coordy) {
              const map = L.map(_id).setView([coordx, coordy], 10);
              L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
                maxZoom: 19,
                attribution:
                  '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
              }).addTo(map);
            }
            console.log('teste')
            generateMap('<%=destino._id%>',<%=destino.coordx%>,<%=destino.coordy%>)
          </script>
        </div>
      </div>
      <%})%> <% } %>
    </div>
    <footer>
      <img src="inova.png" />
      <div>
        <p>Pedro Gabriel</p>
        <p><a href="https://github.com/pedrogabriel2002">Github</a></p>
        <p>
          <a href="https://www.linkedin.com/in/pedro-gabriel-40b0ab1a8/"
            >Linkedin</a
          >
        </p>
      </div>
    </footer>
  </body>
</html>
